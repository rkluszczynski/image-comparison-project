<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="common/header :: head" />

<body>
    <div id="body-header" th:include="common/header :: header" />


    <form method="post" action="userSessionInputImage" enctype="multipart/form-data">
        <errors path="*" cssClass="errorblock" element="div" />

        File to upload: <input type="file" name="imageFile" />
        <br />
        <input type="submit" value="Press" /> to upload the imageFile!

        <span>
            <errors path="imageFile" cssClass="error" />
		</span>
    </form>


    <p th:if="${isInputImageUploaded}">
        <h3>User uploaded image:</h3>
        <center>
            <img src="userSessionInputImage" alt="user image" />
        </center>
    </p>

    <p th:if="${isTemplateImageChosen}">
    <h3>Template image:</h3>
    <center>
        <img src="userSessionTemplateImage" alt="template image" />
    </center>
    </p>

    <p th:if="${isResultImageProcessed}">
        <h3>Result image:</h3>
        <center>
            <img src="userSessionResultImage" alt="result image" />
        </center>
    </p>
    <p th:if="${isInputImageUploaded} and not ${isResultImageProcessed}">
        <h3>Result image:</h3>
        <center>
            <i>still processing... (please refresh page for a moment)</i>
        </center>
    </p>

    <div id="body-footer" th:include="common/footer :: footer" />

</body>
</html>
